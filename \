#define DS_Q_IMPLEMENTATION
#include "../src/queue.h"
#include <assert.h>

int main(int argc, char **argv) {
    DS_Queue *queue = ds_q_create();
    ds_q_print(queue);

    ds_q_enqueue(queue, "a");
    assert(ds_q_get_size(queue) == 1);
    ds_q_print(queue);

    char *a = ds_q_dequeue(queue);
    assert(strcmp(a, "a") == 0);
    assert(ds_q_get_size(queue) == 0);
    ds_q_print(queue);
    free(a);

    ds_q_enqueue(queue, "a");
    assert(ds_q_get_size(queue) == 1);

    ds_q_enqueue(queue, "b");
    assert(ds_q_get_size(queue) == 2);

    ds_q_enqueue(queue, "c");
    assert(ds_q_get_size(queue) == 3);

    ds_q_enqueue(queue, "d");
    assert(ds_q_get_size(queue) == 4);

    ds_q_enqueue(queue, "e");
    assert(ds_q_get_size(queue) == 5);
    ds_q_print(queue);

    a = ds_q_dequeue(queue);
    assert(strcmp(a, "a") == 0);
    assert(ds_q_get_size(queue) == 4);
    ds_q_print(queue);
    free(a);

    a = ds_q_dequeue(queue);
    assert(strcmp(a, "b") == 0);
    assert(ds_q_get_size(queue) == 3);
    ds_q_print(queue);
    free(a);

    a = ds_q_dequeue(queue);
    assert(strcmp(a, "c") == 0);
    assert(ds_q_get_size(queue) == 2);
    ds_q_print(queue);
    free(a);

    return 0;
}
